{
  "name": "keystone",
  "description": "The OpenStack Identity service Keystone.",
  "long_description": "Description\n===========\n\nThis cookbook installs the OpenStack Identity Service **Keystone** as part of the OpenStack **Essex** reference deployment Chef for OpenStack. The http://github.com/opscode/openstack-chef-repo contains documentation for using this cookbook in the context of a full OpenStack deployment. Keystone is installed from packages, creating the default user, tenant, and roles. It also registers the identity service and identity endpoint.\n\nhttp://keystone.openstack.org/\n\nRequirements\n============\n\nChef 0.10.0 or higher required (for Chef environment use)\n\nPlatform\n--------\n\n* Ubuntu-12.04\n* Fedora-17\n\nCookbooks\n---------\n\nThe following cookbooks are dependencies:\n\n* database\n* mysql\n* osops-utils\n\nResources/Providers\n===================\n\nThese resources provide an abstraction layer for interacting with the keystone server's API, allowing for other nodes to register any required users, tenants, roles, services, or endpoints.\n\nregister\n--------\n\nRegister users, tenants, roles, services and endpoints with Keystone\n\n### Actions\n\n- :create_tenant: Create a tenant\n- :create_user: Create a user for a specified tenant\n- :create_role: Create a role\n- :grant_role: Grant a role to a specified user for a specified tenant\n- :create_service: Create a service\n- :create_endpoint: Create an endpoint for a sepcified service\n\n### General Attributes\n\n- auth_protocol: Required communication protocol with Keystone server\n - Acceptable values are [ \"http\", \"https\" ]\n- auth_host: Keystone server IP Address\n- auth_port: Port Keystone server is listening on\n- api_ver: API Version for Keystone server\n - Accepted values are [ \"/v2.0\" ]\n- auth_token: Auth Token for communication with Keystone server\n\n### :create_tenant Specific Attributes\n\n- tenant_name: Name of tenant to create\n- tenant_description: Description of tenant to create\n- tenant_enabled: Enable or Disable tenant\n - Accepted values are [ \"true\", \"false\" ]\n - Default is \"true\"\n\n### :create_user Specific Attributes\n\n- user_name: Name of user account to create\n- user_pass: Password for the user account\n- user_enabled: Enable or Disable user\n - Accepted values are [ \"true\", \"false\" ]\n - Default is \"true\"\n- tenant_name: Name of tenant to create user in\n\n### :create_role Specific Attributes\n\n- role_name: Name of the role to create\n\n### :grant_role Specific Attributes\n\n- role_name: Name of the role to grant\n- user_name: User name to grant the role to\n- tenant_name: Name of tenant to grant role in\n\n### :create_service Specific Attributes\n\n- service_name: Name of service\n- service_description: Description of service\n- service_type: Type of service to create\n - Accepted values are [ \"image\", \"identity\", \"compute\", \"storage\", \"ec2\", \"volume\" ]\n\n### :create_endpoint Specific Attributes\n\n- endpoint_region: Default value is \"RegionOne\"\n- endpoint_adminurl: URL to admin endpoint (using admin port)\n- endpoint_internalurl: URL to service endpoint (using service port)\n- endpoint_publicurl: URL to public endpoint\n - Default is same as endpoint_internalURL\n- service_type: Type of service to create endpoint for\n - Accepted values are [ \"image\", \"identity\", \"compute\", \"storage\", \"ec2\", \"volume\" ]\n\n### Examples\n\n    # Create 'openstack' tenant\n    keystone_register \"Register 'openstack' Tenant\" do\n      auth_host \"192.168.1.10\"\n      auth_port \"35357\"\n      auth_protocol \"http\"\n      api_ver \"/v2.0\"\n      auth_token \"123456789876\"\n      tenant_name \"openstack\"\n      tenant_description \"Default Tenant\"\n      tenant_enabled \"true\" # Not required as this is the default\n      action :create_tenant\n    end\n\n    # Create 'admin' user\n    keystone_register \"Register 'admin' User\" do\n      auth_host \"192.168.1.10\"\n      auth_port \"35357\"\n      auth_protocol \"http\"\n      api_ver \"/v2.0\"\n      auth_token \"123456789876\"\n      tenant_name \"openstack\"\n      user_name \"admin\"\n      user_pass \"secrete\"\n      user_enabled \"true\" # Not required as this is the default\n      action :create_user\n    end\n\n    # Create 'admin' role\n    keystone_register \"Register 'admin' Role\" do\n      auth_host \"192.168.1.10\"\n      auth_port \"35357\"\n      auth_protocol \"http\"\n      api_ver \"/v2.0\"\n      auth_token \"123456789876\"\n      role_name role_key\n      action :create_role\n    end\n\n\n    # Grant 'admin' role to 'admin' user in the 'openstack' tenant\n    keystone_register \"Grant 'admin' Role to 'admin' User\" do\n      auth_host \"192.168.1.10\"\n      auth_port \"35357\"\n      auth_protocol \"http\"\n      api_ver \"/v2.0\"\n      auth_token \"123456789876\"\n      tenant_name \"openstack\"\n      user_name \"admin\"\n      role_name \"admin\"\n      action :grant_role\n    end\n\n    # Create 'identity' service\n    keystone_register \"Register Identity Service\" do\n      auth_host \"192.168.1.10\"\n      auth_port \"35357\"\n      auth_protocol \"http\"\n      api_ver \"/v2.0\"\n      auth_token \"123456789876\"\n      service_name \"keystone\"\n      service_type \"identity\"\n      service_description \"Keystone Identity Service\"\n      action :create_service\n    end\n\n    # Create 'identity' endpoint\n    keystone_register \"Register Identity Endpoint\" do\n      auth_host \"192.168.1.10\"\n      auth_port \"35357\"\n      auth_protocol \"http\"\n      api_ver \"/v2.0\"\n      auth_token \"123456789876\"\n      service_type \"identity\"\n      endpoint_region \"RegionOne\"\n      endpoint_adminurl \"http://192.168.1.10:35357/v2.0\"\n      endpoint_internalurl \"http://192.168.1.10:5001/v2.0\"\n      endpoint_publicurl \"http://1.2.3.4:5001/v2.0\"\n      action :create_endpoint\n    end\n\ncredentials\n-----------\n\nCreate EC2 credentials for a given user in the specified tenant\n\n### Actions\n\n- :create_ec2: create EC2 credentials\n\n### General Attributes\n\n- auth_protocol: Required communication protocol with Keystone server. Acceptable values are [ \"http\", \"https\" ]\n- auth_host: Keystone server IP Address\n- auth_port: Port Keystone server is listening on\n- api_ver: API Version for Keystone server\n - Accepted values are [ \"/v2.0\" ]\n- auth_token: Auth Token for communication with Keystone server\n\n### :create_ec2 Specific Attributes\n\n- user_name: User name to grant the credentials for\n- tenant_name: Tenant name to grant the credentials in\n\n### Examples\n\n    keystone_credentials \"Create EC2 credentials for 'admin' user\" do\n      auth_host \"192.168.1.10\"\n      auth_port \"35357\"\n      auth_protocol \"http\"\n      api_ver \"/v2.0\"\n      auth_token \"123456789876\"\n      user_name \"admin\"\n      tenant_name \"openstack\"\n    end\n\nRecipes\n=======\n\ndefault\n-------\n\nThe default recipe will install the Keystone Server\n\nserver\n------\n\nInstalls the Keystone Server\n\nAttributes\n==========\n\n* `keystone[\"db\"]` - Name of keystone database\n* `keystone[\"db_user\"]` - Username for keystone database access\n* `keystone[\"db_passwd\"]` - Password for keystone database access\n* `keystone[\"db_ipaddress\"]` - IP address of the keystone database\n* `keystone[\"api_ipaddress\"]` - IP address for the keystone API to bind to. _TODO_: Rename to bind_address\n* `keystone[\"verbose\"]` - Enables/disables verbose output for keystone API server\n* `keystone[\"debug\"]` - Enables/disables debug output for keystone API server\n* `keystone[\"service_port\"]` - Port for the keystone service API to bind to\n* `keystone[\"admin_port\"]` - Port for the keystone admin service to bind to\n* `keystone[\"admin_token\"]` - Admin token for bootstraping keystone server\n* `keystone[\"roles\"]` - Array of roles to create in the keystone server\n* `keystone[\"users\"]` - Array of users to create in the keystone server\n\nLicense and Author\n==================\n\nAuthor:: Justin Shepherd (<justin.shepherd@rackspace.com>)\nAuthor:: Jason Cannavale (<jason.cannavale@rackspace.com>)\nAuthor:: Ron Pedde (<ron.pedde@rackspace.com>)\nAuthor:: Joseph Breu (<joseph.breu@rackspace.com>)\nAuthor:: William Kelly (<william.kelly@rackspace.com>)\nAuthor:: Darren Birkett (<darren.birkett@rackspace.co.uk>)\nAuthor:: Evan Callicoat (<evan.callicoat@rackspace.com>)\nAuthor:: Matt Ray (<matt@opscode.com>)\n\nCopyright 2012, Rackspace US, Inc.\nCopyright 2012-2013, Opscode, Inc.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n",
  "maintainer": "Opscode, Inc.",
  "maintainer_email": "matt@opscode.com",
  "license": "Apache 2.0",
  "platforms": {
    "ubuntu": ">= 0.0.0",
    "fedora": ">= 0.0.0"
  },
  "dependencies": {
    "database": ">= 0.0.0",
    "mysql": ">= 0.0.0",
    "osops-utils": ">= 0.0.0"
  },
  "recommendations": {
  },
  "suggestions": {
  },
  "conflicting": {
  },
  "providing": {
  },
  "replacing": {
  },
  "attributes": {
  },
  "groupings": {
  },
  "recipes": {
  },
  "version": "2012.1.1"
}