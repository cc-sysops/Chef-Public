---
<% if cf_runtimes_include?('node08') -%>
<% info = cf_runtimes_get('node08') %>
<% node_path = File.dirname(info['executable']) %>
node08:
  version: "<%= info['version'] %>"
  description: "<%= info['description'] %>"
  executable: "<%= info['executable'] %>"
  npm: /usr/bin/npm
  version_output: "<%= info['version_output'] %>"
  version_flag: "<%= info['version_flag'] %>"
  environment:
    PATH: <%= node_path %>:$PATH
  debug_modes:
    - run
    - suspend
  debug_env:
    run:
      - NODE_ARGS="--debug=$VCAP_DEBUG_PORT"
    suspend:
      - NODE_ARGS="--debug-brk=$VCAP_DEBUG_PORT"
  status:
    name: current
  series: node08
  category: node
<%- end %>

<% if cf_runtimes_include?('ruby18') -%>
<% info = cf_runtimes_get('ruby18') %>
<% ruby_path = File.dirname(info['executable']) %>
ruby18:
  version: "<%= info['version'] %>"
  description: "<%= info['description'] %>"
  executable: "<%= info['executable'] %>"
  version_flag: "<%= info['version_flag'] %>"
  <% if info['additional_checks'] -%>
  additional_checks: "<%= info['additional_checks'] %>"
  <%- end %>
  version_output: "<%= info['version_output'] %>"
  environment:
    PATH: <%= ruby_path %>:$PATH
    BUNDLE_GEMFILE:
  status:
    name: previous
  series: ruby18
  category: ruby
<%- end %>

<% if cf_runtimes_include?('ruby19') -%>
<% info = cf_runtimes_get('ruby19') %>
<% ruby_path = File.dirname(info['executable']) %>
ruby19:
  version: "<%= info['version'] %>"
  description: "<%= info['description'] %>"
  executable: "<%= info['executable'] %>"
  version_flag: "<%= info['version_flag'] %>"
  <% if info['additional_checks'] -%>
  additional_checks: "<%= info['additional_checks'] %>"
  <%- end %>
  version_output: "<%= info['version_output'] %>"
  environment:
    PATH: <%= ruby_path %>:$PATH
    BUNDLE_GEMFILE:
  status:
    name: current
  series: ruby19
  category: ruby
<%- end %>

<% if cf_runtimes_include?('ruby193') -%>
<% info = cf_runtimes_get('ruby193') %>
<% ruby_path = File.dirname(info['executable']) %>
ruby193:
  version: "<%= info['version'] %>"
  description: "<%= info['description'] %>"
  executable: "<%= info['executable'] %>"
  version_flag: "<%= info['version_flag'] %>"
  <% if info['additional_checks'] -%>
  additional_checks: "<%= info['additional_checks'] %>"
  <%- end %>
  version_output: "<%= info['version_output'] %>"
  environment:
    PATH: <%= ruby_path %>:$PATH
    BUNDLE_GEMFILE:
  status:
    name: next
  series: ruby19
  category: ruby
<%- end %>
